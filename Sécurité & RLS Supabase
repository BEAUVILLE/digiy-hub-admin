# ðŸ” DIGIY â€” SÃ©curitÃ© & RLS Supabase

Ce document dÃ©crit la **stratÃ©gie de sÃ©curitÃ©** de DIGIY basÃ©e sur Supabase, PostgreSQL et RLS.

> La sÃ©curitÃ© est pensÃ©e **serveur first**, pas front.

---

## ðŸŽ¯ Objectifs

- ProtÃ©ger les donnÃ©es sensibles
- Isoler clients, chauffeurs, admins
- EmpÃªcher toute Ã©lÃ©vation de privilÃ¨ge
- Garantir la traÃ§abilitÃ© (audit)

---

## ðŸ”’ RLS (Row Level Security)

Toutes les tables sensibles ont :
- RLS activÃ©e
- Politiques explicites
- AccÃ¨s minimal par rÃ´le

Exemples :
- Un chauffeur ne voit que ses missions
- Un client ne voit que ses commandes
- Un admin voit tout

---

## ðŸ§© Exemples de politiques

### Chauffeur â†’ ses missions
```sql
create policy "driver_own_orders"
on public.fret_orders
for select
using (driver_phone = current_setting('request.jwt.claims', true)::json->>'phone');


